<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Administraci√≥n</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      
      .alert {
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 5px;
      }
      
      .alert-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      
      .alert-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
      
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 30px;
      }
      
      th, td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: left;
      }
      
      th {
        background-color: #f4f4f4;
        font-weight: bold;
      }
      
      a.btn {
        display: inline-block;
        padding: 8px 15px;
        border-radius: 5px;
        text-decoration: none;
        color: white;
        margin-right: 5px;
        font-size: 14px;
      }
      
      .create { background-color: #28a745; }
      .edit { background-color: #007bff; }
      .delete { background-color: #dc3545; }
      
      .create:hover { background-color: #218838; }
      .edit:hover { background-color: #0056b3; }
      .delete:hover { background-color: #c82333; }
      
      .actions-header {
        margin-bottom: 20px;
      }
      
      h1 {
        color: #333;
      }
      
      h2 {
        color: #555;
        border-bottom: 2px solid #007bff;
        padding-bottom: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Panel de Administraci√≥n</h1>
    
    <!-- Mensajes de alerta -->
    <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
    <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
    
    <div class="actions-header">
      <a th:href="@{/admin/create/empresa}" class="btn create">‚ûï Registrar Empresa</a>
      <a th:href="@{/admin/create/usuario}" class="btn create">‚ûï Registrar Usuario</a>
    </div>
    
    <h2>Usuarios</h2>
    <table>
      <thead>
        <tr>
          <th>Email</th>
          <th>Empresa</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="u : ${usuarios}">
          <td th:text="${u.email}"></td>
          <td th:text="${u.nameEmpresa}"></td>
          <td>
            <a th:href="@{'/admin/edit/usuario/' + ${u.id}}" class="btn edit">‚úèÔ∏è Editar</a>
            <a th:href="@{'/admin/delete/usuario/' + ${u.id}}" 
               class="btn delete" 
               onclick="return confirm('¬øEst√° seguro de eliminar este usuario?')">üóëÔ∏è Eliminar</a>
          </td>
        </tr>
        <tr th:if="${#lists.isEmpty(usuarios)}">
          <td colspan="3" style="text-align: center;">No hay usuarios registrados</td>
        </tr>
      </tbody>
    </table>
    
    <hr />
    
    <h2>Empresas</h2>
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>NIT</th>
          <th>Direcci√≥n</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="e : ${empresas}">
          <td th:text="${e.nombre}"></td>
          <td th:text="${e.nit}"></td>
          <td th:text="${e.direccion}"></td>
          <td>
            <a th:href="@{'/admin/edit/empresa/' + ${e.id}}" class="btn edit">‚úèÔ∏è Editar</a>
            <a th:href="@{'/admin/delete/empresa/' + ${e.id}}" 
               class="btn delete" 
               onclick="return confirm('¬øEst√° seguro de eliminar esta empresa?')">üóëÔ∏è Eliminar</a>
          </td>
        </tr>
        <tr th:if="${#lists.isEmpty(empresas)}">
          <td colspan="5" style="text-align: center;">No hay empresas registradas</td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
